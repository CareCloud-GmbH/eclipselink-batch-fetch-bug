plugins {
    id 'java'
    id 'application'
}

configurations {
    eclipselinkAgent
}

dependencies {
    implementation 'org.eclipse.persistence:org.eclipse.persistence.jpa:3.0.1'
    implementation 'org.eclipse.persistence:org.eclipse.persistence.extension:3.0.1'
    eclipselinkAgent 'org.eclipse.persistence:eclipselink:3.0.1'

    implementation 'com.h2database:h2:1.4.200'
    implementation 'org.slf4j:slf4j-simple:1.7.25'
}

application {
    mainClass = 'eclipselink.bugs.batchfetch.App'
    applicationDefaultJvmArgs = [
            "-javaagent:${configurations.eclipselinkAgent.iterator().next()}"
    ]
}

